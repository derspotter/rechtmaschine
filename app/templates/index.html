<!DOCTYPE html>
<html>

<head>
    <title>Rechtmaschine - Document Classifier</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/css/styles.css">
</head>

<body>
    <div class="header">
        <h1>ğŸ›ï¸ Rechtmaschine</h1>
        <p>Dokumenten-Klassifikation fÃ¼r Asylrecht</p>
        <button class="btn btn-danger" data-reset-button onclick="resetApplication(event)" style="margin-top: 15px;">
            ğŸ§¹ Alles zurÃ¼cksetzen
        </button>
    </div>

    <div class="upload-section">
        <h3>Dokument hochladen und klassifizieren</h3>
        <input type="file" id="fileInput" accept=".pdf" />
        <br>
        <button class="btn" onclick="uploadFile()">Dokument klassifizieren</button>
        <div class="loading" id="loading">â³ Dokument wird analysiert...</div>
    </div>

    <div class="upload-section">
        <h3>Web-Recherche</h3>
        <p style="color: #7f8c8d; font-size: 14px; margin-bottom: 10px;">
            Stellen Sie eine Frage zum deutschen Asylrecht. Die KI durchsucht relevante Quellen und liefert Links zu
            wichtigen Dokumenten.
        </p>
        <textarea id="outputDescription"
            placeholder="Beispiel: Welche aktuellen Urteile gibt es zu Abschiebungen nach Afghanistan?"
            style="width: 100%; min-height: 100px; padding: 10px; border: 1px solid #bdc3c7; border-radius: 5px; font-family: Arial; margin-bottom: 10px;"></textarea>
        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 10px;">
            <label for="searchEngineSelect" style="font-weight: 600; color: #2c3e50;">Suchmaschine:</label>
            <select id="searchEngineSelect"
                style="flex: 1; padding: 8px 10px; border: 1px solid #bdc3c7; border-radius: 5px;">
                <option value="gemini" selected>Gemini (1.5k RPD free, $35/1k)</option>
                <option value="grok-4-1-fast">Grok 4.1 Fast (Web - $10/1k calls)</option>
            </select>
        </div>
        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 10px;">
            <label for="documentTypeSelect" style="font-weight: 600; color: #2c3e50;">Dokumententyp:</label>
            <select id="documentTypeSelect"
                style="flex: 1; padding: 8px 10px; border: 1px solid #bdc3c7; border-radius: 5px;">
                <option value="KlagebegrÃ¼ndung">KlagebegrÃ¼ndung</option>
                <option value="Schriftsatz">Schriftsatz</option>
            </select>
        </div>
        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 10px;">
            <label for="modelSelect" style="font-weight: 600; color: #2c3e50;">KI-Modell:</label>
            <select id="modelSelect" style="flex: 1; padding: 8px 10px; border: 1px solid #bdc3c7; border-radius: 5px;">
                <option value="claude-opus-4-5" selected>Claude Opus 4.5 (Standard)</option>
                <option value="gpt-5.1">GPT-5.1 (Reasoning)</option>
                <option value="gemini-3-pro-preview">Gemini 3 Pro (Preview)</option>
            </select>
        </div>
        <div id="verbosityGroup" style="display: none; align-items: center; gap: 12px; margin-bottom: 10px;">
            <label for="verbositySelect" style="font-weight: 600; color: #2c3e50;">Output-AusfÃ¼hrlichkeit:</label>
            <select id="verbositySelect"
                style="flex: 1; padding: 8px 10px; border: 1px solid #bdc3c7; border-radius: 5px;">
                <option value="high" selected>High (Sehr ausfÃ¼hrlich)</option>
                <option value="medium">Medium (Ausgewogen)</option>
                <option value="low">Low (Kurz und prÃ¤gnant)</option>
            </select>
        </div>
        <button class="btn" onclick="generateDocument()" style="background-color: #27ae60;">
            Recherche starten
        </button>
        <button class="btn" onclick="createDraft()" style="background-color: #8e44ad; margin-left: 10px;">
            Entwurf generieren
        </button>
    </div>

    <div class="categories-grid">
        <div class="category-box anhoerung">
            <div class="category-header">
                <h3>ğŸ“‹ AnhÃ¶rung</h3>
                <button class="btn-add-doc" onclick="triggerDirectUpload('AnhÃ¶rung')"
                    title="Dokument direkt hochladen">+</button>
                <input type="file" id="file-anhoerung" accept=".pdf" style="display: none;"
                    onchange="uploadDirectFile('AnhÃ¶rung', this)">
            </div>
            <div id="anhoerung-docs"></div>
        </div>
        <div class="category-box bescheid">
            <div class="category-header">
                <h3>ğŸ“„ Bescheid</h3>
                <button class="btn-add-doc" onclick="triggerDirectUpload('Bescheid')"
                    title="Dokument direkt hochladen">+</button>
                <input type="file" id="file-bescheid" accept=".pdf" style="display: none;"
                    onchange="uploadDirectFile('Bescheid', this)">
            </div>
            <div id="bescheid-docs"></div>
        </div>
        <div class="category-box akte">
            <div class="category-header">
                <h3>ğŸ“š Akte</h3>
                <button class="btn-add-doc" onclick="triggerDirectUpload('Akte')"
                    title="Dokument direkt hochladen">+</button>
                <input type="file" id="file-akte" accept=".pdf" style="display: none;"
                    onchange="uploadDirectFile('Akte', this)">
            </div>
            <div id="akte-docs"></div>
        </div>
        <div class="category-box rechtsprechung">
            <div class="category-header">
                <h3>âš–ï¸ Rechtsprechung</h3>
                <button class="btn-add-doc" onclick="triggerDirectUpload('Rechtsprechung')"
                    title="Dokument direkt hochladen">+</button>
                <input type="file" id="file-rechtsprechung" accept=".pdf" style="display: none;"
                    onchange="uploadDirectFile('Rechtsprechung', this)">
            </div>
            <div id="rechtsprechung-docs"></div>
        </div>
        <div class="category-box sonstiges">
            <div class="category-header">
                <h3>ğŸ“‚ Sonstiges</h3>
                <button class="btn-add-doc" onclick="triggerDirectUpload('Sonstiges')"
                    title="Dokument direkt hochladen">+</button>
                <input type="file" id="file-sonstiges" accept=".pdf" style="display: none;"
                    onchange="uploadDirectFile('Sonstiges', this)">
            </div>
            <div id="sonstiges-docs"></div>
        </div>
        <div class="category-box sources">
            <div class="category-header">
                <h3>ğŸ”— Gespeicherte Quellen</h3>
            </div>
            <div style="display: flex; justify-content: flex-end; gap: 8px; margin-bottom: 8px;">
                <button class="btn" onclick="selectAllSources()"
                    style="padding: 6px 10px; font-size: 12px; background-color: #3498db;">âœ… Alle auswÃ¤hlen</button>
            </div>
            <div id="sources-docs"></div>
        </div>
    </div>

    <script src="/static/js/app.js"></script>
</body>

</html>